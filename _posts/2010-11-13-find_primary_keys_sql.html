---
layout: post
title:  Find primary key column names in table (MySQL)
tags : SQL
---

<p>
To find the primary keys in a table through SQL we will utilize the
<a href="http://dev.mysql.com/doc/refman/5.0/en/information-schema.html">information schema</a> tables provided in sql. First we will pull out the
table schema using the following snippet of SQL
</p>



<pre class="src src-sql"><span class="org-keyword">SELECT</span> TABLE_SCHEMA <span class="org-keyword">FROM</span> information_schema.TABLES <span class="org-keyword">WHERE</span> <span class="org-keyword">table_name</span>=<span class="org-string">'&lt;table name&gt;'</span>;
</pre>



<p>
Now that we have the schema we can execute the following sql by
providing the table schema and the table name. This should list all
the primary key columns in the table
</p>



<pre class="src src-sql"><span class="org-keyword">SELECT</span> t.column_name <span class="org-keyword">FROM</span> information_schema.table_constraints c 
<span class="org-keyword">JOIN</span> information_schema.key_column_usage t
<span class="org-keyword">USING</span> (<span class="org-keyword">constraint_name</span>, table_schema, <span class="org-keyword">table_name</span>)
<span class="org-keyword">WHERE</span> c.constraint_type=<span class="org-string">'PRIMARY KEY'</span>
<span class="org-keyword">AND</span> c.table_schema=<span class="org-string">'&lt;table schema here&gt;'</span>
<span class="org-keyword">AND</span> c.table_name=<span class="org-string">'&lt;table name&gt;'</span>;
</pre>



<p>
You can obviously replace the contraint type to be something different
in order to list the columns with another constraint like UNIQUE.
</p>